<div class="file-input">
    <div class="file_label mb-1 d-flex justify-content-between">
        <label for="id_user_profile">{{ field.label }}:</label>
        <div class="d-none">
            <input type="checkbox" name="{% if name %}{{ name }}{% else %}{{ field.name }}{% endif %}-clear" id="{% if name %}{{ name }}{% else %}{{ field.name }}{% endif %}-clear_id">
            <label for="{% if name %}{{ name }}{% else %}{{ field.name }}{% endif %}-clear_id">Remove Image</label>
        </div>
    </div>
    <input type="file" name="{% if name %}{{ name }}{% else %}{{ field.name }}{% endif %}" accept="image/*" class="form-control file-input-field"
           id="id_{% if name %}{{ name }}{% else %}{{ field.name }}{% endif %}">

    {% if field.value and field.value.url %}
        <div class="mt-2 position-relative image-preview-container original_image" style="max-height: 200px;">
            <img src="{{ field.value.url }}" alt="Preview" class="img-thumbnail img-fluid"
                 style="width:100%; height: 100%; max-height: 200px; object-fit: contain;">
            <button type="button" class="btn btn-danger btn-sm remove-image-btn"
                    style="position: absolute; top: 5px; right: 5px;">x
            </button>
        </div>
    {% endif %}

    {% if field.errors %}
        <div class="text-danger mt-2">
            {% for error in field.errors %}
                <p>{{ error }}</p>
            {% endfor %}
        </div>
    {% endif %}
</div>