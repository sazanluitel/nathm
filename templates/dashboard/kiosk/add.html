{% load static %}
<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Admission Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <style>
        body {
            overflow: hidden;
        }

        .kiosk_template {
            margin: 40px auto;
            position: relative;
            height: 90vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .kiosk__template__logo__wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .kiosk_template__logo {
            border: 1px dotted #beb8b7;
            border-radius: 20px;
            padding: 0px 40px;
            display: inline-block;
            background-color: white;
            position: absolute;
            top: -35px;
            z-index: 99999;
        }

        .kiosk_template__logo img {
            width: 150px;
            display: block;
            margin: 0px auto;
        }

        .border-box {
            border: 2px solid #1b5c9d;
            width: 100%;

            height: 100%;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            position: relative;
            display: flex;
            flex-direction: column;
        }

        .scrollable-form {
            z-index: 555;
            overflow-y: auto;
            flex-grow: 1;
            padding-right: 10px;
        }

        .kiosk__tempalte__footer {
            position: fixed;
            bottom: 1.5%;
            left: 42%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: white;
            padding: 15px 40px;
            border: 1px dotted #beb8b7;
            border-radius: 20px;
            z-index: 99999;
        }

        .submit__btn {
            background-color: #1b5c9d;
            margin-left: 10px;
        }

        .submit__btn:hover {
            background-color: #1b5c9d;
            margin-left: 10px;
        }

        .fixed-buttons {
            position: fixed;
            padding: 15px 0;
            display: flex;
            justify-content: flex-end;
            right: 3%;
            bottom: 6%;
        }

        .card {
            --bs-card-border-color: rgba(0, 0, 0, 0.1);
            margin: 1.5rem !important;
        }

        .card .card-header {
            padding: 15px;
            background-color: rgb(219 219 219 / 10%);
        }

        .card input,
        .card input:focus,
        .card select,
        .card select:focus,
        .card textarea,
        .card textarea:focus {
            outline: none;
            box-shadow: none;
            padding: 10px 15px;
        }

        .card .form-group {
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
<div class="container-fluid d-flex justify-content-center align-items-center vh-90 kiosk_template">
    <div class="border-box p-0">
        <!-- Logo -->
        <div class="kiosk__template__logo__wrapper">
            <div class="kiosk_template__logo text-center mb-4">
                <img src="{% static 'dashboard/assets/images/logo.jpg' %}" alt="College Logo" class="img-fluid"/>
            </div>
        </div>

        <div class="scrollable-form">
            <form method="POST" action="{% url 'students:kiosk-reg' %}">
                {% csrf_token %}
                {% with messages=messages %}
                    {% include 'dashboard/alert.html' %}
                {% endwith %}
                <div class="card-header h3 px-4 py-5 pb-2">Admission Form</div>

                <!-- Student Info -->
                <div class="card mt-3">
                    <div class="card-header h6">General Infromation</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-label">Title:</label>
                                    {{ form.user_form.title }}
                                    {% include 'parts/error.html' with errors=form.user_form.title.errors %}
                                </div>
                            </div>

                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-label">First Name:</label>
                                    {{ form.user_form.first_name }}
                                    {% include 'parts/error.html' with errors=form.user_form.first_name.errors %}
                                </div>
                            </div>

                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-label">Middle Name:</label>
                                    {{ form.user_form.middle_name }}
                                    {% include 'parts/error.html' with errors=form.user_form.middle_name.errors %}
                                </div>
                            </div>

                            <div class="col-lg-3">
                                <div class="form-group">
                                    <label class="form-label">Last Name:</label>
                                    {{ form.user_form.last_name }}
                                    {% include 'parts/error.html' with errors=form.user_form.last_name.errors %}
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-label">Gender:</label>
                                    {{ form.personal_info_form.gender }}
                                    {% include 'parts/error.html' with errors=form.personal_info_form.gender.errors %}
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-label">Email:</label>
                                    {{ form.user_form.email }}
                                    {% include 'parts/error.html' with errors=form.user_form.email.errors %}
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- Temporary Address -->
                <div class="card mt-3">
                    <div class="card-header">Temporary Address</div>
                    <div class="card-body">
                        <div class="row">
                            {% for field in form.temporary_address_form %}
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label for="{{ field.id_for_label }}"
                                               class="form-label">{{ field.label }}</label>
                                        {{ field }}
                                        {% include 'parts/error.html' with errors=field.errors %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Permanent Address -->
                <div class="card mt-3">
                    <div class="card-header">Permanent Address</div>
                    <div class="card-body">
                        <div class="row">
                            {% for field in form.temporary_address_form %}
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label for="{{ field.id_for_label }}"
                                               class="form-label">{{ field.label }}</label>
                                        {{ field }}
                                        {% include 'parts/error.html' with errors=field.errors %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Emergency Contact -->
                <div class="card mt-3">
                    <div class="card-header">Emergency Contact</div>
                    <div class="card-body">
                        <div class="row">
                            {% for field in form.emergency_contact_form %}
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label for="{{ field.id_for_label }}"
                                               class="form-label">{{ field.label }}</label>
                                        {{ field }}
                                        {% include 'parts/error.html' with errors=field.errors %}
                                    </div>
                                </div>
                            {% endfor %}

                            {% for field in form.emergency_address_form %}
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label for="{{ field.id_for_label }}"
                                               class="form-label">{{ field.label }}</label>
                                        {{ field }}
                                        {% include 'parts/error.html' with errors=field.errors %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- Student Info -->
                <div class="card mt-3">
                    <div class="card-header h6">Financial Capacity</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-label">Father's Occupation:</label>
                                    {{ form.student_form.father_occupation }}
                                    {% include 'parts/error.html' with errors=form.student_form.father_occupation.errors %}
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-label">Mother's Occupation:</label>
                                    {{ form.student_form.mother_occupation }}
                                    {% include 'parts/error.html' with errors=form.student_form.mother_occupation.errors %}
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-label">Annual Income:</label>
                                    {{ form.student_form.annual_income }}
                                    {% include 'parts/error.html' with errors=form.student_form.annual_income.errors %}
                                </div>
                            </div>

                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label class="form-label">Members in Family:</label>
                                    {{ form.student_form.members_in_family }}
                                    {% include 'parts/error.html' with errors=form.student_form.members_in_family.errors %}
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">Payment Detail</div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="{{ form.student_form.payment_by.id_for_label }}"
                                           class="form-label">{{ form.student_form.payment_by.label }}</label>
                                    {{ form.student_form.payment_by }}
                                    {% include 'parts/error.html' with errors=form.student_form.payment_by.errors %}
                                </div>
                            </div>
                            <div class="col-lg-6">
                                <div class="form-group">
                                    <label for="{{ form.student_form.organization.id_for_label }}"
                                           class="form-label">{{ form.student_form.organization.label }}</label>
                                    {{ form.student_form.organization }}
                                    {% include 'parts/error.html' with errors=form.student_form.organization.errors %}
                                </div>
                            </div>

                            {% for field in form.payment_address_form %}
                                <div class="col-lg-4">
                                    <div class="form-group">
                                        <label for="{{ field.id_for_label }}"
                                               class="form-label">{{ field.label }}</label>
                                        {{ field }}
                                        {% include 'parts/error.html' with errors=field.errors %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <!-- about us -->
                <div class="card mt-3">
                    <div class="card-header h6">How did you learn about Us</div>
                    <div class="card-body">
                        <div class="row">
                            <!-- Campus Field -->
                            <div class="col-md-4 mb-3">
                                <label for="{{ form.student_form.about_us.id_for_label }}" class="form-label">About
                                    us</label>
                                {{ form.student_form.about_us }}
                                {% include 'parts/error.html' with errors=form.student_form.about_us.errors %}
                            </div>
                            <!-- Department Field -->
                            <div class="col-md-4 mb-3" id="about-us-other-container" style="display:none;">
                                <label for="{{ form.student_form.about_us_other.id_for_label }}" class="form-label">If
                                    other</label>
                                {{ form.student_form.about_us_other }}
                                {% include 'parts/error.html' with errors=form.student_form.about_us_other.errors %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="fixed-buttons">
                    <button type="button" class="btn btn-danger rounded-pill px-4 py-2">Clear</button>
                    <button type="submit" class="btn rounded-pill text-white px-4 py-2 submit__btn">Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="kiosk__tempalte__footer">
    <p class="text-center h6 text text-secondary mb-0">www.ismt.edu.np</p>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // Get the dropdown and other field container
        var aboutUsField = document.getElementById('about_us')
        var aboutUsOtherContainer = document.getElementById('about-us-other-container')
        console.log(value)

        // Function to toggle visibility
        function toggleAboutUsOther() {
            if (aboutUsField.value === 'OTHER') {
                aboutUsOtherContainer.style.display = 'block'
            } else {
                aboutUsOtherContainer.style.display = 'none'
            }
        }
    })
</script>
</body>
</html>
